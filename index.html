<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Write GTK applications using Rust</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/dist/reset.css">
  <link rel="stylesheet" href="reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="reveal.js/plugin/highlight/zenburn.css" />
  <style>
    span.smallcaps {
      font-variant: small-caps;
    }

    span.underline {
      text-decoration: underline;
    }

    div.column {
      display: inline-block;
      vertical-align: top;
      width: 50%;
    }

    div.hanging-indent {
      margin-left: 1.5em;
      text-indent: -1.5em;
    }

    ul.task-list {
      list-style: none;
    }
  </style>
  <link rel="stylesheet" href="reveal.js/dist/theme/beige.css" id="theme">
</head>

<body>
  <div class="reveal">
    <div class="slides">


      <section id="writing-applications-using-gtk-4-rust" class="slide level1">
        <h2>Writing applications using GTK 4 &amp; Rust</h2>
        <ul>
          <li class="fragment">Talk about almost complete subclassing support</li>
          <li class="fragment">Talk about composite templates support</li>
          <li class="fragment">Async portals API with ashpd, thanks to zbus</li>
          <li class="fragment">Available crates: sourceview5/libadwaita/tracker-rs</li>
        </ul>
      </section>

      <section id="introduction" class="slide level2">
        <h2>Introduction</h2>
        <ul>
          <li>The bindings are partially generated from gobject introspection data thanks to girÂ¹</li>
          <li>Manual code is needed for cases like subclassing support</li>
          <li>Rich ecosystem</li>
        </ul>

        <small style="margin-top: 80px;margin-right: 620px;">
          <ol>
            <li><a href="https://github.com/gtk-rs/gir">https://github.com/gtk-rs/gir</a></li>
          </ol>
        </small>
      </section>

      <section>
        <section>
          <h3>Subclassing support</h3>
        </section>
        <section>
          <ul>
            <li>GLib Rust bindings contains the base code for creating custom GObjects, e.g subclassing.</li>
          </ul>
          <small style="margin-top: 80px;margin-left: -120px;"><a
              href="https://gtk-rs.org/gtk-rs-core/stable/latest/docs/glib/subclass">See https:
              //gtk-rs.org/gtk-rs-core/stable/latest/docs/glib/subclass for details</https:></a>
          </small>
        </section>
        <section>
          <pre lang="rust">
<code data-trim data-noescape data-line-numbers="1|5-6|8-13|14|3-15|17-19|21-25">
use glib::subclass:prelude::*;

mod imp {
  use super::*;
  #[derive(Default)]
  pub struct SomeObject;

  #[glib::object_subclass]
  impl ObjectSubclass for SomeObject {
      const NAME: &'static str = "SomeObject";
      type Type = super::SomeObject;
      type ParentType = glib::Object;
  }
  impl ObjectImpl for SomeObject {}
}

glib::wrapper! {
  pub struct SomeObject(ObjectSubclass&#x3C;imp::SomeObject&#x3E;);
}

impl SomeObject {
  pub fn new() -> Self {
      glib::Object::new(&[]).unwrap()
  }
}

          </code>
          </pre>
        </section>

        <section>
          <h5>How does that looks like in the case of a custom GTK Widget</h5>
          <pre lang="rust">
<code data-trim data-noescape data-line-numbers="13|16|20-21">
use gtk::subclass:prelude::*;
use gtk::prelude::*;

mod imp {
  use super::*;
  #[derive(Default)]
  pub struct CustomWidget;

  #[glib::object_subclass]
  impl ObjectSubclass for CustomWidget {
      const NAME: &'static str = "CustomWidget";
      type Type = super::CustomWidget;
      type ParentType = gtk::Widget;
  }
  impl ObjectImpl for CustomWidget {}
  impl WidgetImpl for CustomWidget {}
}

glib::wrapper! {
  pub struct CustomWidget(ObjectSubclass&#x3C;imp::CustomWidget&#x3E;)
    @extends gtk::Widget;
}

impl CustomWidget {
  pub fn new() -> Self {
      glib::Object::new(&[]).unwrap()
  }
}

          </code>
          </pre>
        </section>
      </section>
    </div>
  </div>

  <script src="reveal.js/dist/reveal.js"></script>

  // reveal.js plugins
  <script src="reveal.js/plugin/notes/notes.js"></script>
  <script src="reveal.js/plugin/search/search.js"></script>
  <script src="reveal.js/plugin/zoom/zoom.js"></script>
  <script src="reveal.js/plugin/markdown/markdown.js"></script>
  <script src="reveal.js/plugin/highlight/highlight.js"></script>
  <script>

    // Full list of configuration options available at:
    // https://revealjs.com/config/
    Reveal.initialize({
      // Push each slide change to the browser history
      history: true,
      slideNumber: true,
      keyboard: true,
      disableLayout: false,


      // reveal.js plugins
      plugins: [
        RevealNotes,
        RevealSearch,
        RevealZoom,
        RevealMarkdown,
        RevealHighlight,
      ]
    });
  </script>
</body>

</html>